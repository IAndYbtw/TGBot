import asyncio
from database import CafeOrm, MenuItemOrm, new_session, create_tables

async def load_sample_data():
    """
    –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ñ–µ –∏ –º–µ–Ω—é –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
    """
    # –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã, –µ—Å–ª–∏ –∏—Ö –µ—â—ë –Ω–µ—Ç
    await create_tables()

    async with new_session() as session:
        # –î–æ–±–∞–≤–∏–º –∫–∞—Ñ–µ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
        cafes = [
            CafeOrm(
                name="–ü–∞–Ω–¥–∞—Å–∞–¥",
                description="–í–∫—É—Å–Ω–∞—è –∞–∑–∏–∞—Ç—Å–∫–∞—è –∫—É—Ö–Ω—è —Å –±–æ–ª—å—à–∏–º –≤—ã–±–æ—Ä–æ–º –±–ª—é–¥. –õ–∞–ø—à–∞, —Ä–∏—Å, —Å—É–ø—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.",
                category="–ê–∑–∏–∞—Ç—Å–∫–∞—è –∫—É—Ö–Ω—è",
                location="–£—á–µ–±–Ω—ã–π –∫–æ—Ä–ø—É—Å, 1 —ç—Ç–∞–∂",
                icon="üçú"
            ),
            CafeOrm(
                name="–ü–∏—Ü—Ü–∞ –•–æ—Ç",
                description="–°–≤–µ–∂–∞—è –≥–æ—Ä—è—á–∞—è –ø–∏—Ü—Ü–∞ –Ω–∞ –ª—é–±–æ–π –≤–∫—É—Å. –ì–æ—Ç–æ–≤–∏–º –±—ã—Å—Ç—Ä–æ, –¥–æ—Å—Ç–∞–≤–ª—è–µ–º –≥–æ—Ä—è—á–µ–π!",
                category="–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è",
                location="–ü–æ—Ç–æ—á–Ω—ã–π –∫–æ—Ä–ø—É—Å, 2 —ç—Ç–∞–∂",
                icon="üçï"
            ),
            CafeOrm(
                name="FENI",
                description="–õ—É—á—à–∏–π –∫–æ—Ñ–µ –≤ –∫–∞–º–ø—É—Å–µ! –¢–∞–∫–∂–µ –±–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä —á–∞—è, —Å–º—É–∑–∏ –∏ –¥—Ä—É–≥–∏—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤.",
                category="–ö–æ—Ñ–µ–π–Ω—è",
                location="–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–π –∫–æ—Ä–ø—É—Å, 1 —ç—Ç–∞–∂",
                icon="‚òï"
            ),
            CafeOrm(
                name="–ö–∞—Ä—Ç–æ—à–∫–∞",
                description="–ê–ø–ø–µ—Ç–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—à–µ—á–∫–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞—Ü–∏—è—Ö. –§—Ä–∏, –ø–æ-–¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∏, –¥—Ä–∞–Ω–∏–∫–∏ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ!",
                category="–§–∞—Å—Ç—Ñ—É–¥",
                location="3 —ç—Ç–∞–∂, –ø–µ—Ä–µ—Ö–æ–¥ –∏–∑ –õ–ö –≤ –£—á–µ–±–Ω—ã–π –∫–æ—Ä–ø—É—Å",
                icon="ü•î"
            )
        ]
        
        session.add_all(cafes)
        await session.flush()  # –ø–æ–ª—É—á–∏–º cafe.id

        # –î–æ–±–∞–≤–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª—é–¥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞—Ñ–µ
        menu_items = [
            # –ü–∞–Ω–¥–∞—Å–∞–¥ (–ê–∑–∏–∞—Ç—Å–∫–∞—è –∫—É—Ö–Ω—è)
            MenuItemOrm(cafe_id=cafes[0].id, name="–ë–æ—Ä—â", description="–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Ä—É—Å—Å–∫–∏–π —Å—É–ø", price=200.0),
            MenuItemOrm(cafe_id=cafes[0].id, name="–ü–µ–ª—å–º–µ–Ω–∏", description="–î–æ–º–∞—à–Ω–∏–µ –ø–µ–ª—å–º–µ–Ω–∏", price=250.0),
            MenuItemOrm(cafe_id=cafes[0].id, name="–ß–∞–π", description="–ß–µ—Ä–Ω—ã–π —á–∞–π", price=50.0),
            
            # –ü–∏—Ü—Ü–∞ –•–æ—Ç
            MenuItemOrm(cafe_id=cafes[1].id, name="–ü–∏—Ü—Ü–∞ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞", description="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø–∏—Ü—Ü–∞ —Å —Å—ã—Ä–æ–º –º–æ—Ü–∞—Ä–µ–ª–ª–∞", price=300.0),
            MenuItemOrm(cafe_id=cafes[1].id, name="–ü–∏—Ü—Ü–∞ –ü–µ–ø–ø–µ—Ä–æ–Ω–∏", description="–ü–∏—Ü—Ü–∞ —Å –æ—Å—Ç—Ä–æ–π –∫–æ–ª–±–∞—Å–æ–π –ø–µ–ø–ø–µ—Ä–æ–Ω–∏", price=350.0),
            
            # FEIN (–ö–æ—Ñ–µ–π–Ω—è)
            MenuItemOrm(cafe_id=cafes[2].id, name="–ö–∞–ø—É—á–∏–Ω–æ", description="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –∫–æ—Ñ–µ", price=150.0),
            MenuItemOrm(cafe_id=cafes[2].id, name="–ö–æ–∫–∞-–∫–æ–ª–∞", description="–û—Å–≤–µ–∂–∞—é—â–∏–π –Ω–∞–ø–∏—Ç–æ–∫", price=100.0),
            
            # –ö–∞—Ä—Ç–æ—à–∫–∞
            MenuItemOrm(cafe_id=cafes[3].id, name="–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏", description="–•—Ä—É—Å—Ç—è—â–∞—è –∫–∞—Ä—Ç–æ—à–∫–∞ —Ñ—Ä–∏", price=120.0),
            MenuItemOrm(cafe_id=cafes[3].id, name="–ö–∞—Ä—Ç–æ—à–∫–∞ –ø–æ-–¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∏", description="–ö–∞—Ä—Ç–æ—à–∫–∞ —Å —Ö—Ä—É—Å—Ç—è—â–µ–π –∫–æ—Ä–æ—á–∫–æ–π", price=150.0),
        ]
        
        session.add_all(menu_items)
        await session.commit()
        
    print(f"‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ {len(cafes)} –∫–∞—Ñ–µ –∏ {len(menu_items)} –±–ª—é–¥ –∏–∑ fill_sample_data.py")
    return len(cafes)

if __name__ == "__main__":
    asyncio.run(load_sample_data())